{"ast":null,"code":"import axios from \"axios\";\n\n//공통 설정을 갖는 axios 인스턴스\nconst instance = axios.create({\n  baseURL: \"http://localhost:8080\"\n});\n\n//interceptors 을 통해 에러 상태코드에 따른 핸들링링\ninstance.interceptors.response.use(\n//성공한 응답일 경우 그대로 넘기지만\n//에러 일 경우 asycn 함수가 호출\nresponse => response, async error => {\n  //error.config는 에러가 난 객체의 설정 정보보\n  const originalRequest = error.config;\n  console.log(\"401 에러 확인\");\n\n  //토큰이 만료되었을 경우\n  if (error.response.status == 401 && !originalRequest._retry) {\n    //계속 401 에러가 날경우 무한 요청 에러를 방지지\n    originalRequest._retry = true;\n    console.log(\"401 에러 확인\");\n    //리프레쉬 가져오기\n  }\n});\nexport default instance;","map":{"version":3,"names":["axios","instance","create","baseURL","interceptors","response","use","error","originalRequest","config","console","log","status","_retry"],"sources":["C:/devv/pet_project/pet_front/src/api/axiosInstance.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n//공통 설정을 갖는 axios 인스턴스\r\nconst instance = axios.create({\r\n  baseURL: \"http://localhost:8080\",\r\n});\r\n\r\n//interceptors 을 통해 에러 상태코드에 따른 핸들링링\r\ninstance.interceptors.response.use(\r\n  //성공한 응답일 경우 그대로 넘기지만\r\n  //에러 일 경우 asycn 함수가 호출\r\n  (response) => response,\r\n  async (error) => {\r\n    //error.config는 에러가 난 객체의 설정 정보보\r\n    const originalRequest = error.config;\r\n    console.log(\"401 에러 확인\");\r\n\r\n    //토큰이 만료되었을 경우\r\n    if (error.response.status == 401 && !originalRequest._retry) {\r\n      //계속 401 에러가 날경우 무한 요청 에러를 방지지\r\n      originalRequest._retry = true;\r\n      console.log(\"401 에러 확인\");\r\n      //리프레쉬 가져오기\r\n    }\r\n  }\r\n);\r\nexport default instance;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC5BC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACAF,QAAQ,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG;AAChC;AACA;AACCD,QAAQ,IAAKA,QAAQ,EACtB,MAAOE,KAAK,IAAK;EACf;EACA,MAAMC,eAAe,GAAGD,KAAK,CAACE,MAAM;EACpCC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;;EAExB;EACA,IAAIJ,KAAK,CAACF,QAAQ,CAACO,MAAM,IAAI,GAAG,IAAI,CAACJ,eAAe,CAACK,MAAM,EAAE;IAC3D;IACAL,eAAe,CAACK,MAAM,GAAG,IAAI;IAC7BH,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IACxB;EACF;AACF,CACF,CAAC;AACD,eAAeV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}